// systems/autoResponse/AutoResponseSystem.js
export class AutoResponseSystem {
    constructor() {
        this.responses = {
            // ردود الترحيب المحسنة
            'مرحبا': `أهلاً وسهلاً بك في مغارة غولد! 

عالم من المغامرات والكنوز ينتظرك.
جاهز لبدء رحلة لا تُنسى؟`,

            'اهلا': `أهلاً وسهلاً بك أيها المغامر!

سعيد برؤيتك في عالمنا.
هل أنت مستعد للتحدي؟`,

            'السلام عليكم': `وعليكم السلام ورحمة الله وبركاته

مرحباً بك في عالم المغامرات!
أسأل الله أن يوفقك في رحلتك.`,

            'اهلين': `أهلين وسهلين بك!

سعيد بلقائك في هذا العالم السحري.
أتمنى لك تجربة رائعة معنا.`,

            // ردود الشكر المحسنة
            'شكرا': `العفو! دائماً سعيد بمساعدتك.

لا تتردد في سؤالي عن أي شيء
أنا هنا لمساعدتك في رحلتك.`,

            'مشكور': `لا شكر على واجب!

أتمنى لك يوماً رائعاً في المغامرات.
استمر في التقدم!`,

            'تسلم': `الله يسلمك ويحفظك!

أتمنى أن تستمتع بوقتك هنا.
كل التوفيق لك!`,

            // ردود عامة محسنة
            'كيف حالك': `أنا بخير، شكراً لسؤالك!

جاهز لمساعدتك في رحلتك.
كيف حالك أنت؟`,

            'من انت': `أنا مساعدك الوفي في هذا العالم!

مهمتي هي جعل تجربتك ممتعة ومفيدة.
أساعد الجميع في رحلتهم نحو المجد.`,

            'شلونك': `الحمدلله بخير! وأنت؟

أتمنى أن تكون بأفضل حال.
كيف تسير مغامراتك؟`,

            // ردود تشجيعية محسنة
            'احبك': `شكراً لحبك! هذا يدفعني للأفضل.

لكن تذكر، التركيز على تطوير شخصيتك
هو الطريق الحقيقي للنجاح!`,

            'احب اللعبة': `هذا رائع! سعيد لأنك تستمتع باللعبة!

الاستمتاع هو سر الاستمرارية.
استمر في استكشاف العالم!`,

            'ممتعه': `أعلم! كل يوم يحمل مغامرة جديدة.

الجمال في هذا العالم أنك لا تعرف
ما الذي ينتظرك في الزاوية التالية!`,

            // ردود تقنية
            'باى': `إلى اللقاء! لا تنسى مواصلة مغامرتك لاحقاً!

أتمنى أن تعود بأقوى مما كنت.
حظاً موفقاً!`,

            'مع السلامة': `إلى اللقاء! أتمنى لك رحلة آمنة!

عودتك تنتظرك مغامرات جديدة.
نراكم قريباً!`,

            'اراك لاحقا': `أراك لاحقاً أيها البطل!

لا تنسى أن تأخذ قسطاً من الراحة
ثم عد أقوى مما كنت!`,

            // ردود الدعم
            'مشكله': `أخبرني بالمشكلة التي تواجهها:

سأحاول مساعدتك في حلها!
إذا كانت المشكلة تقنية، يمكنك التواصل مع المدير.`,

            // ردود المرح
            'نكتة': `لماذا كان الفارس يخاف من الأشجار؟

لأنه سمع أن هناك "أوراق" قاتلة في الغابة!

هاها! الآن عد للمغامرة يا بطل!`,

            'سر': `أريد أن أخبرك بسر صغير...

أفضل المغامرين هم من يتعلمون من أخطائهم
ولا يستسلمون أبداً!

لكن لا تخبر أحداً! هذا سر بيننا!`,

            'تحدي': `هل تريد تحدياً حقيقياً؟

التحدي الحقيقي هو أن تستمتع بالرحلة
بغض النظر عن الصعوبات!

أعتقد أنك تستطيع!`,

            // ردود الوقت
            'صباح الخير': `صباح النور! يوم جديد يعني فرص جديدة!

أتمنى أن يكون يومك مليئاً بالإنجازات
والنجاحات في عالم المغامرات!`,

            'مساء الخير': `مساء النور! أتمنى أن يكون يومك كان مميزاً!

الليل وقت الراحة والتفكير في الإنجازات
واستعداداً ليوم غدٍ أفضل!`,

            // ردود إضافية محسنة
            'جميل': `شكراً! العالم جميل بمغامرين مثلك.

كل اكتشاف جديد يضيف جمالاً
لرحلتك في هذا العالم.`,

            'رائع': `أشكرك! الروعة تأتي من مغامرين شجعان مثلك.

استمر في استكشاف العالم
وستجد الكثير من الأشياء الرائعة!`,

            'مذهل': `العالم مليء بالمذهل حقاً!

في كل ركن كنز ينتظر من يكتشفه
وفي كل معركة درس يستحق التعلم.`,

            'حلو': `شكراً! الحلاوة تأتي من التجارب الجميلة.

أتمنى أن تستمر مغامراتك
في أن تكون حلوة وممتعة!`,

            'واو': `رائع! الـ"واو" تأتي من المفاجآت السارة!

انتظر حتى ترى ما يخبئه العالم
من مفاجآت أخرى!`,

            // ردود التشجيع
            'احسنت': `شكراً! لكن الإحسان الحقيقي يأتي من المثابرة.

استمر في العمل الجاد
وستصل إلى ما تريد!`,

            'مبدع': `الإبداع هو مفتاح حل الكثير من التحديات!

استمر في التفكير بشكل مبتكر
وستجد طرقاً جديدة للتقدم!`,

            'ذكي': `الذكاء مهم، لكن المثابرة أهم!

اجمع بين الذكاء والعمل الجاد
وستحقق المعجزات!`,

            // ردود الأسئلة
            'ماذا تفعل': `أنا هنا لمساعدتك وتقديم الدعم!

أستمع للجميع وأحاول تقديم المساعدة
بأفضل طريقة ممكنة.`,

            'لماذا': `كل شيء في هذا العالم له سبب!

أحياناً نفهم الأسباب وأحياناً أخرى
نستمتع بالغموض ورحلة الاكتشاف.`,

            'اين': `في كل مكان حولك مغامرات تنتظر!

العالم واسع وجميل،
وكل مكان له قصته الخاصة.`,

            // ردود المشاعر
            'سعيد': `هذا رائع! السعادة تزيد من قوة المغامر!

استغل هذه الطاقة الإيجابية
في تحقيق إنجازات جديدة!`,

            'حزين': `لا تحزن! كل المغامرين يمرون بأوقات صعبة.

الأهم هو أن تستمر في المحاولة
وستأتي الأوقات الجميلة!`,

            'متعب': `الراحة جزء مهم من الرحلة!

خذ قسطاً من الراحة ثم عد
بهمة ونشاط جديد!`
        };

        this.patterns = {
            'شكر': 'شكرا',
            'مرحب': 'مرحبا', 
            'اهل': 'اهلا',
            'سلام': 'السلام عليكم',
            'حالك': 'كيف حالك',
            'من انت': 'من انت',
            'احب': 'احبك',
            'لعبه': 'احب اللعبة',
            'باى': 'باى',
            'سلامه': 'مع السلامة',
            'تسلم': 'تسلم',
            'اهلين': 'اهلين',
            'ممتعه': 'ممتعه',
            'اراك': 'اراك لاحقا',
            'مشكله': 'مشكله',
            'نكتة': 'نكتة',
            'سر': 'سر',
            'تحدي': 'تحدي',
            'صباح': 'صباح الخير',
            'مساء': 'مساء الخير',
            'جميل': 'جميل',
            'رائع': 'رائع',
            'مذهل': 'مذهل',
            'حلو': 'حلو',
            'واو': 'واو',
            'احسنت': 'احسنت',
            'مبدع': 'مبدع',
            'ذكي': 'ذكي',
            'ماذا': 'ماذا تفعل',
            'لماذا': 'لماذا',
            'اين': 'اين',
            'سعيد': 'سعيد',
            'حزين': 'حزين',
            'متعب': 'متعب'
        };

        console.log('✅ نظام الردود التلقائي تم تهيئته');
    }

    // البحث عن رد تلقائي مناسب
    findAutoResponse(message) {
        const cleanMessage = message.toLowerCase().trim();
        
        // البحث المباشر
        if (this.responses[cleanMessage]) {
            return this.responses[cleanMessage];
        }

        // البحث بالنمط
        for (const [pattern, responseKey] of Object.entries(this.patterns)) {
            if (cleanMessage.includes(pattern)) {
                return this.responses[responseKey];
            }
        }

        return null;
    }

    // إضافة رد جديد
    addResponse(trigger, response) {
        this.responses[trigger.toLowerCase()] = response;
        
        // إضافة للنمط أيضاً إذا لم يكن موجوداً
        if (!this.patterns[trigger.toLowerCase()]) {
            this.patterns[trigger.toLowerCase()] = trigger.toLowerCase();
        }
        
        console.log(`✅ تم إضافة رد تلقائي لـ: ${trigger}`);
    }

    // إزالة رد
    removeResponse(trigger) {
        const lowerTrigger = trigger.toLowerCase();
        if (this.responses[lowerTrigger]) {
            delete this.responses[lowerTrigger];
            
            // إزالة من النمط أيضاً
            if (this.patterns[lowerTrigger]) {
                delete this.patterns[lowerTrigger];
            }
            
            console.log(`🗑️ تم إزالة رد تلقائي لـ: ${trigger}`);
            return true;
        }
        return false;
    }

    // الحصول على جميع الردود
    getAllResponses() {
        return this.responses;
    }
            }
